<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Full text searching of the USDA-NRCS Official Series Descriptions — OSDquery • soilDB</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Full text searching of the USDA-NRCS Official Series Descriptions — OSDquery" />

<meta property="og:description" content="This is a rough example of how chunks of text parsed from OSD records can be made search-able with the https://www.postgresql.org/docs/9.5/static/textsearch.html and query system (https://www.postgresql.org/docs/9.5/static/datatype-textsearch.html). Each search field (except for the &quot;brief narrative&quot; and MLRA) corresponds with a section header in an OSD. The results may not include every OSD due to formatting errors and typos. Results are scored based on the number of times search terms match words in associated sections. This is a programatic interface to http://soilmap2-1.lawr.ucdavis.edu/osd-search/index.php." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">soilDB</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.2.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Full text searching of the USDA-NRCS Official Series Descriptions</h1>
    
    <div class="hidden name"><code>OSDquery.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This is a rough example of how chunks of text parsed from OSD records can be made search-able with the <a href='PostgreSQL fulltext indexing'>https://www.postgresql.org/docs/9.5/static/textsearch.html</a> and query system (<a href='syntax details'>https://www.postgresql.org/docs/9.5/static/datatype-textsearch.html</a>). Each search field (except for the "brief narrative" and MLRA) corresponds with a section header in an OSD. The results may not include every OSD due to formatting errors and typos. Results are scored based on the number of times search terms match words in associated sections. This is a programatic interface to <a href='this webpage'>http://soilmap2-1.lawr.ucdavis.edu/osd-search/index.php</a>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>OSDquery</span>(<span class='kw'>mlra</span><span class='kw'>=</span><span class='st'>''</span>, <span class='kw'>taxonomic_class</span><span class='kw'>=</span><span class='st'>''</span>, <span class='kw'>typical_pedon</span><span class='kw'>=</span><span class='st'>''</span>,
  <span class='kw'>brief_narrative</span><span class='kw'>=</span><span class='st'>''</span>, <span class='kw'>ric</span><span class='kw'>=</span><span class='st'>''</span>, <span class='kw'>use_and_veg</span><span class='kw'>=</span><span class='st'>''</span>,
  <span class='kw'>competing_series</span><span class='kw'>=</span><span class='st'>''</span>, <span class='kw'>geog_location</span><span class='kw'>=</span><span class='st'>''</span>, <span class='kw'>geog_assoc_soils</span><span class='kw'>=</span><span class='st'>''</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mlra</th>
      <td><p>a comma-delimeted list of MLRA to search</p></td>
    </tr>
    <tr>
      <th>taxonomic_class</th>
      <td><p>search family level classification</p></td>
    </tr>
    <tr>
      <th>typical_pedon</th>
      <td><p>search typical pedon section</p></td>
    </tr>
    <tr>
      <th>brief_narrative</th>
      <td><p>search brief narrative</p></td>
    </tr>
    <tr>
      <th>ric</th>
      <td><p>search range in characteristics section</p></td>
    </tr>
    <tr>
      <th>use_and_veg</th>
      <td><p>search use and vegetation section</p></td>
    </tr>
    <tr>
      <th>competing_series</th>
      <td><p>search competing section</p></td>
    </tr>
    <tr>
      <th>geog_location</th>
      <td><p>search geographic setting section</p></td>
    </tr>
    <tr>
      <th>geog_assoc_soils</th>
      <td><p>search geographicaly associated soils section</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>See <a href='this webpage'>http://soilmap2-1.lawr.ucdavis.edu/osd-search/index.php</a> for more information.</p>  
<p></p><dl class='dl-horizontal'>
    <dt></dt><dd><p>family level taxa are derived from SC database, not parsed OSD records</p></dd>
    <dt></dt><dd><p>MLRA are derived via spatial intersection (SSURGO x MLRA polygons)</p></dd>
    <dt></dt><dd><p>MLRA-filtering is only possible for series used in the current SSURGO snapshot (component name)</p></dd>
    <dt></dt><dd><p>logical AND: &amp;</p></dd>
    <dt></dt><dd><p>logical OR: |</p></dd>
    <dt></dt><dd><p>wildcard, e.g. rhy-something rhy:*</p></dd>
    <dt></dt><dd><p>search terms with spaces need doubled single quotes: ''san joaquin''</p></dd>
    <dt></dt><dd><p>combine search terms into a single expression: (grano:* | granite)</p></dd>
  </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>data.frame</code> object containing soil series names that match patterns supplied as arguments.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
    <p><a href='http://www.nrcs.usda.gov/wps/portal/nrcs/detailfull/soils/home/?cid=nrcs142p2_053587'>http://www.nrcs.usda.gov/wps/portal/nrcs/detailfull/soils/home/?cid=nrcs142p2_053587</a></p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>SoilWeb maintains a snapshot of the Official Series Description data.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='fetchOSD.html'>fetchOSD</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># find all series that list Pardee as a geographically associated soil.</span>
<span class='no'>s</span> <span class='kw'>&lt;-</span> <span class='fu'>OSDquery</span>(<span class='kw'>geog_assoc_soils</span> <span class='kw'>=</span> <span class='st'>'pardee'</span>)
<span class='co'># get data for these series</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='fetchOSD.html'>fetchOSD</a></span>(<span class='no'>s</span>$<span class='no'>series</span>, <span class='kw'>extended</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>colorState</span> <span class='kw'>=</span> <span class='st'>'dry'</span>)
<span class='co'># simple figure</span>
<span class='fu'>par</span>(<span class='kw'>mar</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>1</span>))
<span class='fu'>plot</span>(<span class='no'>x</span>$<span class='no'>SPC</span>)</div><div class='output co'>#&gt; <span class='error'>Error in as.double(y): cannot coerce type 'S4' to vector of type 'double'</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    D.E. Beaudette
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Dylan Beaudette, Jay Skovlin, Stephen Roecker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

